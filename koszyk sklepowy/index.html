<!DOCTYPE html>
<html lang="pl">

<head>
  <meta charset="UTF-8">
  <title>Pierwszy komponent w React.js</title>
  <script src="https://unpkg.com/react/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone/babel.js"></script>
</head>

<body>
  <div id="root"></div>
  <script type="text/babel">

    class App extends React.Component {
        state = {
          availableProducts: 7,
          shoppingCart: 1,

        }
        handleRemoveFromCart = () => {
          this.setState({
            shoppingCart: this.state.shoppingCart - 1,

          })
        }
        handleAddToCart = () => {
          this.setState({
            shoppingCart: this.state.shoppingCart + 1,

          })
        }
        handleBuy = () => {
          this.setState({
            availableProducts: this.state.availableProducts - this.state.shoppingCart,
            shoppingCart: 0,
          })
        }
        
        render() {
            return(
              <div>
                <button disabled = {this.state.shoppingCart === 0 ? true: false} onClick = {this.handleRemoveFromCart}>-</button>
                <span style = {this.state.shoppingCart === 0 ? {opacity: 0.3} : {opacity: 1}}> {this.state.shoppingCart} </span>
                <button disabled = {this.state.shoppingCart === this.state.availableProducts ? true : false} onClick = {this.handleAddToCart}>+</button>
                {this.state.shoppingCart > 0 && <button onClick = {this.handleBuy}>KUP</button>}

              </div>
            )
        }
    }
    ReactDOM.render(<App/>, document.getElementById('root'))
  </script>
</body>

</html>